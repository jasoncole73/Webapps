<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tic Tac Toe Content</title>
<style>
    /* Added box-sizing */
    * { box-sizing: border-box; }
    /* Styles specific to Tic Tac Toe */
    body {
        margin: 0;
        font-family: Tahoma, sans-serif;
        background-color: #ece9d8;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center; /* Center content vertically */
        height: 100%; /* Use 100% of iframe height */
        overflow: hidden; /* Prevent body scroll */
    }
    .game-controls { padding: 10px 0; text-align: center; flex-shrink: 0; } /* Removed top padding */
    .game-controls button { font-size: 12px; padding: 3px 10px; }
    .game-status { font-weight: bold; margin: 5px 0; min-height: 1.2em; font-size: 14px;}
    #tic-tac-toe-board {
        display: grid;
        grid-template-columns: repeat(3, 80px);
        grid-template-rows: repeat(3, 80px);
        gap: 5px;
        background-color: #333;
        border: 5px solid #333;
        margin-top: 5px; /* Reduced margin */
    }
    .ttt-cell {
        background-color: #fff;
        font-size: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-weight: bold;
        font-family: 'Arial Black', Gadget, sans-serif; /* Bolder font */
    }
     .ttt-cell:hover { background-color: #f0f0f0; }
     .ttt-cell.X { color: blue; }
     .ttt-cell.O { color: red; }
</style>
</head>
<body>
    <div class="game-controls">
        <button id="ttt-new-game">New Game</button>
        <div id="ttt-status" class="game-status">Your turn (X)</div>
    </div>
    <div id="tic-tac-toe-board">
        <!-- Cells generated by JS -->
    </div>

    <script>
        // --- Tic Tac Toe JS Logic (copied from previous - unchanged) ---
        const boardDiv = document.getElementById('tic-tac-toe-board'); const statusDiv = document.getElementById('ttt-status'); const newGameButton = document.getElementById('ttt-new-game');
        let board = ['', '', '', '', '', '', '', '', '']; let currentPlayer = 'X'; let gameOver = false;

        function createBoard() { boardDiv.innerHTML = ''; board = ['', '', '', '', '', '', '', '', '']; currentPlayer = 'X'; gameOver = false; statusDiv.textContent = "Your turn (X)"; for (let i = 0; i < 9; i++) { const cell = document.createElement('div'); cell.classList.add('ttt-cell'); cell.dataset.index = i; cell.addEventListener('click', handleCellClick); boardDiv.appendChild(cell); } }
        function handleCellClick(event) { if (gameOver || currentPlayer !== 'X') return; const index = parseInt(event.target.dataset.index); if (board[index] === '') { makeMove(index, 'X'); if (!gameOver) { currentPlayer = 'O'; statusDiv.textContent = "AI's turn (O)"; setTimeout(aiMove, 500); } } }
        function makeMove(index, player) { if (gameOver || board[index] !== '') return; board[index] = player; const cell = boardDiv.children[index]; cell.textContent = player; cell.classList.add(player); if (checkWin(player)) { gameOver = true; statusDiv.textContent = `${player} wins!`; return; } if (board.every(cell => cell !== '')) { gameOver = true; statusDiv.textContent = "It's a draw!"; return; } }
        function checkWin(player) { const wp = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]; return wp.some(p => p.every(i => board[i] === player)); }
        function aiMove() { if (gameOver) return; let ac = []; board.forEach((c, i) => { if (c === '') ac.push(i); }); if (ac.length > 0) { const ri = ac[Math.floor(Math.random() * ac.length)]; makeMove(ri, 'O'); if (!gameOver) { currentPlayer = 'X'; statusDiv.textContent = "Your turn (X)"; } } }

        // --- Cleanup Function ---
        function cleanupGame() { console.log("Cleaning up TicTacToe"); /* No timers/intervals here */ }

        // --- Initialization ---
        newGameButton.addEventListener('click', createBoard);
        createBoard(); // Start game on load
    </script>
</body>
</html>